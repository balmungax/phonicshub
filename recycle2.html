<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Save the Earth - Recycling for Kids</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0f9ff;
        }
        h1, h2, h3, .fun-font {
            font-family: 'Fredoka', sans-serif;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .draggable-item {
            cursor: grab;
            transition: all 0.2s;
        }
        .draggable-item:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        .drop-zone {
            transition: all 0.3s;
        }
        .drop-zone.drag-over {
            transform: scale(1.05);
            border-color: #4ade80;
            background-color: #dcfce7;
        }
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        .pop-in {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        .match-card {
            transition: all 0.3s ease;
        }
        .match-card.selected {
            ring: 4px solid #3b82f6;
            transform: scale(1.05);
        }
        .match-card.matched {
            opacity: 0.5;
            pointer-events: none;
            background-color: #dcfce7;
            border-color: #22c55e;
        }
        .photo-container {
            position: relative;
            overflow: hidden;
            cursor: zoom-in;
        }
        .photo-container::after {
            content: "üîç Click to see bigger";
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .photo-container:hover::after {
            opacity: 1;
        }
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .lightbox.active {
            display: flex;
        }
        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        .lightbox img {
            max-width: 100%;
            max-height: 85vh;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
        }
        .lightbox-caption {
            color: white;
            text-align: center;
            margin-top: 15px;
            font-size: 18px;
            max-width: 800px;
        }
        /* Reduce Activity Styles */
        .scenario-card {
            transition: all 0.3s ease;
        }
        .scenario-card:hover {
            transform: translateY(-3px);
        }
        .answer-btn {
            transition: all 0.2s;
        }
        .answer-btn:hover {
            transform: scale(1.05);
        }
        .answer-btn.correct {
            background-color: #22c55e;
            color: white;
        }
        .answer-btn.wrong {
            background-color: #ef4444;
            color: white;
        }
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <button class="lightbox-close" onclick="closeLightbox()">‚úï</button>
            <img id="lightbox-img" src="" alt="">
            <p id="lightbox-caption" class="lightbox-caption fun-font"></p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-green-500 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 text-2xl font-bold fun-font cursor-pointer" onclick="showSection('home')">
                <span>üåç</span> Earth Heroes
            </div>
            <div class="flex gap-2 md:gap-4 overflow-x-auto">
                <button onclick="showSection('story')" class="px-3 py-2 rounded-full hover:bg-green-600 transition font-bold text-sm md:text-base">üìñ Facts</button>
                <button onclick="showSection('words')" class="px-3 py-2 rounded-full hover:bg-green-600 transition font-bold text-sm md:text-base">üìù Words</button>
                <button onclick="showSection('match')" class="px-3 py-2 rounded-full bg-purple-500 hover:bg-purple-400 transition font-bold text-sm md:text-base shadow-md">üß© Match</button>
                <button onclick="showSection('reduce')" class="px-3 py-2 rounded-full bg-red-500 hover:bg-red-400 transition font-bold text-sm md:text-base shadow-md">‚¨áÔ∏è Reduce</button>
                <button onclick="showSection('game')" class="px-3 py-2 rounded-full bg-yellow-400 text-yellow-900 hover:bg-yellow-300 transition font-bold text-sm md:text-base shadow-md">üéÆ Sort</button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="max-w-6xl mx-auto p-4 min-h-screen">

        <!-- HOME SECTION -->
        <section id="home" class="section-view flex flex-col items-center justify-center min-h-[80vh] text-center">
            <div class="pop-in">
                <h1 class="text-5xl md:text-8xl font-bold text-green-600 mb-6 drop-shadow-sm">Save Our Planet!</h1>
                <p class="text-xl md:text-3xl text-slate-600 mb-8 max-w-2xl mx-auto">
                    Hello, little hero! üåü<br>Learn how to help the Earth, learn new words, and play fun games!
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto">
                    <button onclick="showSection('story')" class="bg-blue-500 text-white text-lg px-6 py-4 rounded-2xl shadow-lg hover:bg-blue-600 transform hover:scale-105 transition flex items-center justify-center gap-2">
                        <span>üìñ</span> Plastic Facts
                    </button>
                    <button onclick="showSection('words')" class="bg-purple-500 text-white text-lg px-6 py-4 rounded-2xl shadow-lg hover:bg-purple-600 transform hover:scale-105 transition flex items-center justify-center gap-2">
                        <span>üìù</span> Vocabulary
                    </button>
                    <button onclick="showSection('match')" class="bg-indigo-500 text-white text-lg px-6 py-4 rounded-2xl shadow-lg hover:bg-indigo-600 transform hover:scale-105 transition flex items-center justify-center gap-2">
                        <span>üß©</span> Match Game
                    </button>
                    <button onclick="showSection('reduce')" class="bg-red-500 text-white text-lg px-6 py-4 rounded-2xl shadow-lg hover:bg-red-600 transform hover:scale-105 transition flex items-center justify-center gap-2">
                        <span>‚¨áÔ∏è</span> Reduce Activity
                    </button>
                    <button onclick="showSection('game')" class="bg-yellow-400 text-yellow-900 text-lg px-6 py-4 rounded-2xl shadow-lg hover:bg-yellow-300 transform hover:scale-105 transition flex items-center justify-center gap-2 md:col-span-2">
                        <span>üéÆ</span> Sorting Game
                    </button>
                </div>
            </div>
            <div class="mt-12 flex gap-8 text-6xl animate-bounce">
                <span>‚ôªÔ∏è</span><span>üå≥</span><span>üåä</span>
            </div>
        </section>

        <!-- FACTS SECTION -->
        <section id="story" class="section-view hidden py-8">
            <h2 class="text-4xl font-bold text-center text-blue-600 mb-8 fun-font">Facts about Plastic</h2>
            
            <!-- Basic Facts -->
            <div class="grid gap-8 max-w-4xl mx-auto mb-12">
                <div class="bg-white p-6 rounded-3xl shadow-md flex flex-col md:flex-row items-center gap-6 card-hover">
                    <div class="text-6xl bg-blue-100 p-6 rounded-full">‚öñÔ∏è</div>
                    <div>
                        <h3 class="text-2xl font-bold text-blue-800 mb-2">How much plastic?</h3>
                        <p class="text-lg text-slate-600">
                            Since the 1950s, we have made <strong>8.3 billion tons</strong> of plastic. 
                            That is as heavy as <strong>1 billion elephants</strong>! 
                            Or imagine a line of school buses going around the Earth 400 times!
                        </p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-3xl shadow-md flex flex-col md:flex-row-reverse items-center gap-6 card-hover">
                    <div class="text-6xl bg-red-100 p-6 rounded-full">‚è≥</div>
                    <div>
                        <h3 class="text-2xl font-bold text-red-800 mb-2">Plastic Lives Long</h3>
                        <p class="text-lg text-slate-600">
                            A plastic bottle can take <strong>450 years</strong> to disappear. 
                            That means if a pirate threw a bottle in the ocean in the year 1600, it would still be there today!
                        </p>
                    </div>
                </div>

                <!-- NEW: Styrofoam Fact -->
                <div class="bg-white p-6 rounded-3xl shadow-md flex flex-col md:flex-row items-center gap-6 card-hover">
                    <div class="md:w-1/3 photo-container rounded-2xl" onclick="openLightbox(this)">
                        <img src="https://toxicfreefuture.org/wp-content/uploads/2022/06/191259946_2af67f29a3_z.jpg" 
                             alt="Styrofoam waste and pollution" 
                             class="w-full h-48 object-cover rounded-2xl hover:scale-110 transition duration-500"
                             data-caption="Styrofoam is hard to recycle and breaks into microplastics">
                    </div>
                    <div class="md:w-2/3">
                        <h3 class="text-2xl font-bold text-orange-800 mb-2">‚ö†Ô∏è The Styrofoam Problem</h3>
                        <p class="text-lg text-slate-600">
                            Styrofoam is a kind of plastic. Most countries do not recycle Styrofoam in regular recycling bins. 
                            It is hard to recycle and breaks into very small pieces. These tiny pieces are called <strong>microplastics</strong>. 
                            It costs a lot of money to collect and clean!
                        </p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-3xl shadow-md flex flex-col md:flex-row-reverse items-center gap-6 card-hover">
                    <div class="text-6xl bg-yellow-100 p-6 rounded-full">‚ôªÔ∏è</div>
                    <div>
                        <h3 class="text-2xl font-bold text-yellow-800 mb-2">We Can Fix It!</h3>
                        <p class="text-lg text-slate-600">
                            If we all use less plastic and recycle more, we can keep our Earth clean and happy. 
                            Remember the 3 R's: <strong>Reduce, Reuse, Recycle!</strong>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Photo Gallery Section -->
            <div class="max-w-5xl mx-auto">
                <div class="bg-gradient-to-r from-blue-500 to-green-500 p-1 rounded-3xl mb-8">
                    <div class="bg-white rounded-3xl p-6 md:p-8">
                        <h2 class="text-3xl md:text-4xl font-bold text-center text-slate-800 mb-2 fun-font">üåç See the Real Problem! üåç</h2>
                        <p class="text-center text-slate-600 mb-8 text-lg">Click any picture to see it bigger!</p>
                        
                        <div class="grid gap-8">
                            <!-- Photo 1: The Sad River -->
                            <div class="photo-card bg-slate-50 rounded-2xl overflow-hidden shadow-lg border-2 border-slate-200">
                                <div class="md:flex">
                                    <div class="md:w-1/2 photo-container" onclick="openLightbox(this)">
                                        <img src="https://img2.rtve.es/i/?w=1200&i=https://img.rtve.es/imagenes/locales-limpian-rio-citarum-con-barcas-madera-batujajar/01718355369987.jpg" 
                                             alt="Citarum River pollution - people cleaning the very dirty river with boats" 
                                             class="w-full h-64 md:h-full object-cover hover:scale-110 transition duration-500"
                                             data-caption="Citarum River, Indonesia - The most polluted river in the world">
                                    </div>
                                    <div class="md:w-1/2 p-6">
                                        <h3 class="text-2xl font-bold text-blue-700 mb-2 fun-font">üò¢ The Sad River</h3>
                                        <p class="text-sm text-slate-500 mb-4 font-bold uppercase tracking-wide">Citarum River, Indonesia</p>
                                        <ul class="space-y-2 text-slate-700">
                                            <li class="flex items-start gap-2"><span class="text-red-500 font-bold">‚Ä¢</span><span>This river has more trash than water!</span></li>
                                            <li class="flex items-start gap-2"><span class="text-red-500 font-bold">‚Ä¢</span><span>35 million people live near this dirty river</span></li>
                                            <li class="flex items-start gap-2"><span class="text-red-500 font-bold">‚Ä¢</span><span>Fish and animals cannot live here anymore</span></li>
                                            <li class="flex items-start gap-2"><span class="text-red-500 font-bold">‚Ä¢</span><span>People get sick from the dirty water</span></li>
                                            <li class="flex items-start gap-2"><span class="text-red-500 font-bold">‚Ä¢</span><span>It would take years and years to clean it</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Photo 2: Microplastics -->
                            <div class="photo-card bg-slate-50 rounded-2xl overflow-hidden shadow-lg border-2 border-slate-200">
                                <div class="md:flex flex-row-reverse">
                                    <div class="md:w-1/2 photo-container" onclick="openLightbox(this)">
                                        <img src="https://hsph.harvard.edu/wp-content/uploads/2025/01/microplastics.jpg" 
                                             alt="Microplastics under microscope - tiny plastic pieces" 
                                             class="w-full h-64 md:h-full object-cover hover:scale-110 transition duration-500"
                                             data-caption="Microplastics - Smaller than a grain of rice!">
                                    </div>
                                    <div class="md:w-1/2 p-6">
                                        <h3 class="text-2xl font-bold text-purple-700 mb-2 fun-font">üî¨ Tiny Plastic Everywhere</h3>
                                        <p class="text-sm text-slate-500 mb-4 font-bold uppercase tracking-wide">Microplastics - Smaller than rice!</p>
                                        <ul class="space-y-2 text-slate-700">
                                            <li class="flex items-start gap-2"><span class="text-purple-500 font-bold">‚Ä¢</span><span>Too small to see without a microscope</span></li>
                                            <li class="flex items-start gap-2"><span class="text-purple-500 font-bold">‚Ä¢</span><span>They come from broken bottles and bags</span></li>
                                            <li class="flex items-start gap-2"><span class="text-purple-500 font-bold">‚Ä¢</span><span>They are in our oceans, rivers, and drinking water</span></li>
                                            <li class="flex items-start gap-2"><span class="text-purple-500 font-bold">‚Ä¢</span><span>Fish eat them by mistake</span></li>
                                            <li class="flex items-start gap-2"><span class="text-purple-500 font-bold">‚Ä¢</span><span>They never disappear - just get smaller!</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Photo 3: Turtle -->
                            <div class="photo-card bg-slate-50 rounded-2xl overflow-hidden shadow-lg border-2 border-slate-200">
                                <div class="md:flex">
                                    <div class="md:w-1/2 photo-container" onclick="openLightbox(this)">
                                        <img src="https://earth.org/wp-content/uploads/2022/06/Untitled-1024-%C3%97-683px-17-1200x900.jpg" 
                                             alt="Sea turtle swimming near plastic pollution in ocean" 
                                             class="w-full h-64 md:h-full object-cover hover:scale-110 transition duration-500"
                                             data-caption="Sea turtle living in plastic-filled ocean">
                                    </div>
                                    <div class="md:w-1/2 p-6">
                                        <h3 class="text-2xl font-bold text-green-700 mb-2 fun-font">üê¢ Turtle in Trouble</h3>
                                        <p class="text-sm text-slate-500 mb-4 font-bold uppercase tracking-wide">Sea turtle in plastic ocean</p>
                                        <ul class="space-y-2 text-slate-700">
                                            <li class="flex items-start gap-2"><span class="text-green-600 font-bold">‚Ä¢</span><span>1 out of 2 sea turtles eats plastic</span></li>
                                            <li class="flex items-start gap-2"><span class="text-green-600 font-bold">‚Ä¢</span><span>They think plastic bags are jellyfish (their food)</span></li>
                                            <li class="flex items-start gap-2"><span class="text-green-600 font-bold">‚Ä¢</span><span>Plastic makes them feel full, but they starve</span></li>
                                            <li class="flex items-start gap-2"><span class="text-green-600 font-bold">‚Ä¢</span><span>They can get tangled and drown</span></li>
                                            <li class="flex items-start gap-2"><span class="text-green-600 font-bold">‚Ä¢</span><span>Baby turtles are in the most danger</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Photo 4: Fish -->
                            <div class="photo-card bg-slate-50 rounded-2xl overflow-hidden shadow-lg border-2 border-slate-200">
                                <div class="md:flex flex-row-reverse">
                                    <div class="md:w-1/2 photo-container" onclick="openLightbox(this)">
                                        <img src="https://academy.pittmanseafoods.com/wp-content/uploads/2020/09/Plastic-pollution-fish.jpg" 
                                             alt="Fish surrounded by plastic pollution in water" 
                                             class="w-full h-64 md:h-full object-cover hover:scale-110 transition duration-500"
                                             data-caption="Fish living in plastic pollution">
                                    </div>
                                    <div class="md:w-1/2 p-6">
                                        <h3 class="text-2xl font-bold text-blue-700 mb-2 fun-font">üêü Fish in Plastic Soup</h3>
                                        <p class="text-sm text-slate-500 mb-4 font-bold uppercase tracking-wide">Fish surrounded by plastic</p>
                                        <ul class="space-y-2 text-slate-700">
                                            <li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Ä¢</span><span>Fish live in water like "plastic soup"</span></li>
                                            <li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Ä¢</span><span>They eat tiny plastic thinking it's food</span></li>
                                            <li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Ä¢</span><span>Plastic blocks their stomachs - no room for real food</span></li>
                                            <li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Ä¢</span><span>When we eat fish, we might eat plastic too</span></li>
                                            <li class="flex items-start gap-2"><span class="text-blue-500 font-bold">‚Ä¢</span><span>Plastic has chemicals that make fish sick</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Photo 5: Bird - UPDATED CAPTION -->
                            <div class="photo-card bg-slate-50 rounded-2xl overflow-hidden shadow-lg border-2 border-slate-200">
                                <div class="md:flex">
                                    <div class="md:w-1/2 photo-container" onclick="openLightbox(this)">
                                        <img src="https://i0.wp.com/theweeklywarbler.com/wp-content/uploads/2022/11/gull-with-plastic.jpg?resize=1024%2C756&ssl=1" 
                                             alt="Bird eating a plastic bag/package" 
                                             class="w-full h-64 md:h-full object-cover hover:scale-110 transition duration-500"
                                             data-caption="Bird eating a plastic bag/package">
                                    </div>
                                    <div class="md:w-1/2 p-6">
                                        <h3 class="text-2xl font-bold text-orange-700 mb-2 fun-font">üê¶ Bird eating plastic</h3>
                                        <p class="text-sm text-slate-500 mb-4 font-bold uppercase tracking-wide">Bird eating a plastic bag/package</p>
                                        <ul class="space-y-2 text-slate-700">
                                            <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">‚Ä¢</span><span>Birds get tangled in plastic rings and bags</span></li>
                                            <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">‚Ä¢</span><span>They can't fly when their wings are trapped</span></li>
                                            <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">‚Ä¢</span><span>They can't find food or go home to nests</span></li>
                                            <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">‚Ä¢</span><span>Baby birds wait for food that never comes</span></li>
                                            <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">‚Ä¢</span><span>1 million birds die from plastic every year</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Call to Action -->
                        <div class="mt-10 text-center bg-green-50 p-6 rounded-2xl border-2 border-green-300">
                            <h3 class="text-2xl font-bold text-green-700 mb-3 fun-font">üí™ You Can Help!</h3>
                            <p class="text-lg text-slate-700 mb-4">Now you see the problem. Here's how to be a hero:</p>
                            <div class="flex flex-wrap justify-center gap-4">
                                <div class="bg-white px-4 py-2 rounded-full shadow text-green-700 font-bold">‚ôªÔ∏è Recycle</div>
                                <div class="bg-white px-4 py-2 rounded-full shadow text-blue-700 font-bold">üîÑ Reuse bags</div>
                                <div class="bg-white px-4 py-2 rounded-full shadow text-purple-700 font-bold">‚¨áÔ∏è Use less plastic</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-12">
                <button onclick="showSection('words')" class="bg-green-500 text-white text-xl px-8 py-3 rounded-full shadow-lg hover:bg-green-600 transition">
                    Learn the Words Next! üìù
                </button>
            </div>
        </section>

        <!-- WORDS SECTION -->
        <section id="words" class="section-view hidden py-8">
            <h2 class="text-4xl font-bold text-center text-purple-600 mb-4 fun-font">Recycling Vocabulary</h2>
            <p class="text-center text-slate-500 mb-8">Click a card to hear the word and definition!</p>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="vocab-grid">
                <!-- Cards injected via JS -->
            </div>
        </section>

        <!-- MATCH GAME SECTION -->
        <section id="match" class="section-view hidden py-4">
            <div class="max-w-4xl mx-auto">
                <div class="flex justify-between items-center mb-6 bg-white p-4 rounded-2xl shadow-sm">
                    <div>
                        <h2 class="text-3xl font-bold text-purple-600 fun-font">Match Game</h2>
                        <p class="text-slate-500">Click a word, then click the correct meaning!</p>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-slate-400 uppercase font-bold tracking-wider">Matches</div>
                        <div class="text-4xl font-bold text-purple-600"><span id="match-score">0</span>/<span id="match-total">0</span></div>
                    </div>
                </div>

                <div class="bg-white rounded-3xl shadow-xl p-6 md:p-10 min-h-[400px] flex flex-col justify-center">
                    <div id="match-container" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div id="match-words" class="flex flex-col gap-4"></div>
                        <div id="match-defs" class="flex flex-col gap-4"></div>
                    </div>
                    
                    <div id="match-message" class="hidden text-center py-10">
                        <div class="text-6xl mb-4">üèÜ</div>
                        <h3 class="text-3xl font-bold text-purple-600 mb-2">Amazing!</h3>
                        <p class="text-xl text-slate-600 mb-6">You matched all the words!</p>
                        <button onclick="initMatchGame()" class="bg-purple-500 text-white px-8 py-3 rounded-full font-bold hover:bg-purple-600 transition shadow-lg">Play Again</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- REDUCE ACTIVITY SECTION - NEW -->
        <section id="reduce" class="section-view hidden py-8">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold text-center text-red-600 mb-2 fun-font">‚¨áÔ∏è How Can YOU Reduce?</h2>
                <p class="text-center text-slate-600 mb-8 text-lg">Look at each situation. What can you do to make LESS trash?</p>
                
                <div id="reduce-scenarios" class="space-y-6">
                    <!-- Scenarios injected via JS -->
                </div>

                <div id="reduce-complete" class="hidden text-center mt-10 bg-green-50 p-8 rounded-3xl border-2 border-green-300">
                    <div class="text-6xl mb-4">üåü</div>
                    <h3 class="text-3xl font-bold text-green-700 mb-3 fun-font">You're a Reduction Expert!</h3>
                    <p class="text-lg text-slate-700 mb-6">Great thinking! You found ways to make less trash.</p>
                    <button onclick="initReduceActivity()" class="bg-red-500 text-white px-8 py-3 rounded-full font-bold hover:bg-red-600 transition shadow-lg">Try Again</button>
                </div>
            </div>
        </section>

        <!-- SORTING GAME SECTION -->
        <section id="game" class="section-view hidden py-4">
            <div class="flex flex-col items-center">
                <div class="flex justify-between items-center w-full max-w-4xl mb-6 bg-white p-4 rounded-2xl shadow-sm">
                    <div>
                        <h2 class="text-3xl font-bold text-indigo-600 fun-font">Sorting Game</h2>
                        <p class="text-slate-500">Drag the item to the correct bin!</p>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-slate-400 uppercase font-bold tracking-wider">Score</div>
                        <div class="text-4xl font-bold text-indigo-600" id="score-display">0</div>
                    </div>
                </div>

                <div class="w-full max-w-4xl bg-white rounded-3xl shadow-xl p-6 min-h-[500px] flex flex-col">
                    <div class="grid grid-cols-3 gap-4 mb-8">
                        <div class="drop-zone bg-blue-50 border-4 border-blue-400 rounded-2xl p-4 flex flex-col items-center justify-center h-48 relative" data-type="recycle">
                            <div class="text-5xl mb-2">‚ôªÔ∏è</div>
                            <h3 class="text-xl font-bold text-blue-700">Recycle</h3>
                            <p class="text-xs text-center text-blue-500">Paper, Plastic, Metal</p>
                        </div>
                        <div class="drop-zone bg-gray-100 border-4 border-gray-400 rounded-2xl p-4 flex flex-col items-center justify-center h-48 relative" data-type="trash">
                            <div class="text-5xl mb-2">üóëÔ∏è</div>
                            <h3 class="text-xl font-bold text-gray-700">Trash</h3>
                            <p class="text-xs text-center text-gray-500">Dirty things</p>
                        </div>
                        <div class="drop-zone bg-green-50 border-4 border-green-500 rounded-2xl p-4 flex flex-col items-center justify-center h-48 relative" data-type="compost">
                            <div class="text-5xl mb-2">üçé</div>
                            <h3 class="text-xl font-bold text-green-700">Compost</h3>
                            <p class="text-xs text-center text-green-500">Food, Plants</p>
                        </div>
                    </div>

                    <div class="bg-slate-50 rounded-2xl p-6 border-2 border-dashed border-slate-300 flex-grow flex items-center justify-center relative overflow-hidden">
                        <div id="items-container" class="flex flex-wrap justify-center gap-4 w-full"></div>
                        <div id="game-message" class="absolute inset-0 flex items-center justify-center bg-white/90 z-10 hidden">
                            <div class="text-center">
                                <div class="text-6xl mb-4">üéâ</div>
                                <h3 class="text-3xl font-bold text-green-600 mb-2">Great Job!</h3>
                                <p class="text-xl text-slate-600 mb-6">You cleaned up the Earth!</p>
                                <button onclick="initSortGame()" class="bg-green-500 text-white px-6 py-3 rounded-full font-bold hover:bg-green-600 transition">Play Again</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Lightbox Functions
        function openLightbox(element) {
            const img = element.querySelector('img');
            const caption = img.getAttribute('data-caption');
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            lightboxImg.src = img.src;
            lightboxCaption.textContent = caption;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeLightbox();
        });

        // UPDATED VOCABULARY with new definitions and Microplastic
        const vocabList = [
            { word: "Recycle", def: "To clean old things and make them into something new.", icon: "‚ôªÔ∏è" },
            { word: "Reuse", def: "To use something again instead of throwing it away.", icon: "üîÑ" },
            { word: "Reduce", def: "Make smaller or less in amount, degree, or size. For example, make less trash.", icon: "‚¨áÔ∏è" },
            { word: "Waste", def: "Things that people throw away.", icon: "üóëÔ∏è" },
            { word: "Trash", def: "Things that are dirty and cannot be used again.", icon: "üöØ" },
            { word: "Bin", def: "A big box where we put trash or recycling.", icon: "üóëÔ∏è" },
            { word: "Sort", def: "To put things into groups, like paper with paper.", icon: "üóÇÔ∏è" },
            { word: "Clean", def: "Not dirty. It looks nice.", icon: "‚ú®" },
            { word: "Dirty", def: "Not clean. It has mud or germs on it.", icon: "ü¶†" },
            { word: "Plastic", def: "A light material used to make bottles and bags.", icon: "ü•§" },
            { word: "Paper", def: "A thin material made from trees. We write on it.", icon: "üìÑ" },
            { word: "Metal", def: "A hard, shiny material used to make cans.", icon: "ü•´" },
            { word: "Transparent", def: "You can see through it, like a window.", icon: "üîç" },
            { word: "Earth", def: "The planet where we live. Our home.", icon: "üåç" },
            { word: "Ocean", def: "A very big area of water with fish and whales.", icon: "üåä" },
            { word: "River", def: "Water that moves from the mountains to the sea.", icon: "üèûÔ∏è" },
            { word: "Contamination", def: "When dirt or poison makes water or land bad.", icon: "‚ò†Ô∏è" },
            { word: "Animal", def: "A living thing like a fish, bird, or dog.", icon: "üê¢" },
            { word: "Help", def: "To do something good for someone else.", icon: "ü§ù" },
            { word: "Save", def: "To keep something safe from harm or danger.", icon: "üíæ" },
            { word: "Protect", def: "Keep safe from harm or injury.", icon: "üõ°Ô∏è" },
            { word: "Microplastic", def: "Very, very tiny pieces of plastic that come from broken plastic things and make the land and water dirty.", icon: "üî¨" }
        ];

        // Reduce Activity Scenarios
        const reduceScenarios = [
            {
                id: 1,
                situation: "Your mom is packing your lunch. She puts your sandwich in a plastic bag.",
                question: "What can you say to REDUCE plastic?",
                answers: [
                    { text: "Use a plastic bag", correct: false },
                    { text: "Use a reusable container", correct: true },
                    { text: "Throw the sandwich away", correct: false }
                ],
                icon: "ü•™"
            },
            {
                id: 2,
                situation: "You're going to the store to buy one apple. The cashier puts it in a plastic bag.",
                question: "What can you do to REDUCE trash?",
                answers: [
                    { text: "Take the plastic bag", correct: false },
                    { text: "Put apple in your pocket", correct: false },
                    { text: "Say 'No bag please, I can carry it'", correct: true }
                ],
                icon: "üçé"
            },
            {
                id: 3,
                situation: "You're thirsty and want water. There are plastic water bottles at the store.",
                question: "How can you REDUCE plastic bottles?",
                answers: [
                    { text: "Buy a new bottle every day", correct: false },
                    { text: "Use a reusable water bottle", correct: true },
                    { text: "Drink from the sink at home", correct: true }
                ],
                icon: "üíß"
            },
            {
                id: 4,
                situation: "Your birthday is coming. You want to give invitations to friends.",
                question: "How can you REDUCE paper?",
                answers: [
                    { text: "Send invitations by phone/email", correct: true },
                    { text: "Print 50 paper invitations", correct: false },
                    { text: "Tell friends in person", correct: true }
                ],
                icon: "üéÇ"
            },
            {
                id: 5,
                situation: "You're drawing a picture. One side of the paper is full.",
                question: "How can you REDUCE paper waste?",
                answers: [
                    { text: "Use a new paper", correct: false },
                    { text: "Draw on the back side too", correct: true },
                    { text: "Use both sides before getting new paper", correct: true }
                ],
                icon: "üé®"
            }
        ];

        const sortItems = [
            { id: 1, name: "Banana Peel", type: "compost", icon: "üçå" },
            { id: 2, name: "Plastic Bottle", type: "recycle", icon: "ü•§" },
            { id: 3, name: "Newspaper", type: "recycle", icon: "üì∞" },
            { id: 4, name: "Apple Core", type: "compost", icon: "üçé" },
            { id: 5, name: "Candy Wrapper", type: "trash", icon: "üç¨" },
            { id: 6, name: "Soda Can", type: "recycle", icon: "ü•´" },
            { id: 7, name: "Broken Toy", type: "trash", icon: "üß∏" },
            { id: 8, name: "Egg Shell", type: "compost", icon: "ü•ö" },
            { id: 9, name: "Cardboard Box", type: "recycle", icon: "üì¶" },
            { id: 10, name: "Styrofoam Cup", type: "trash", icon: "‚òï" },
            { id: 11, name: "Glass Jar", type: "recycle", icon: "üçØ" },
            { id: 12, name: "Fish Bones", type: "compost", icon: "üêü" }
        ];

        let sortScore = 0;
        let currentSortItems = [];
        let matchScore = 0;
        let selectedCard = null;
        let remainingMatches = [];
        let reduceCompleted = 0;

        function showSection(sectionId) {
            document.querySelectorAll('.section-view').forEach(el => el.classList.add('hidden'));
            const target = document.getElementById(sectionId);
            target.classList.remove('hidden');
            target.classList.add('pop-in');
            if (sectionId === 'words') renderVocab();
            if (sectionId === 'game') initSortGame();
            if (sectionId === 'match') initMatchGame();
            if (sectionId === 'reduce') initReduceActivity();
            window.scrollTo(0, 0);
        }

        function renderVocab() {
            const container = document.getElementById('vocab-grid');
            container.innerHTML = '';
            vocabList.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition cursor-pointer border-b-4 border-purple-200 flex flex-col items-center text-center h-full';
                card.onclick = () => speak(item.word + ". " + item.def);
                card.innerHTML = `
                    <div class="text-5xl mb-4">${item.icon}</div>
                    <h3 class="text-xl font-bold text-purple-700 mb-2">${item.word}</h3>
                    <p class="text-sm text-slate-500">${item.def}</p>
                    <div class="mt-auto pt-4 text-purple-300 text-xs font-bold uppercase tracking-wide">Click to Listen</div>
                `;
                container.appendChild(card);
            });
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1.1;
                window.speechSynthesis.speak(utterance);
            }
        }

        // REDUCE ACTIVITY
        function initReduceActivity() {
            reduceCompleted = 0;
            document.getElementById('reduce-complete').classList.add('hidden');
            const container = document.getElementById('reduce-scenarios');
            container.innerHTML = '';
            
            reduceScenarios.forEach((scenario, index) => {
                const card = document.createElement('div');
                card.className = 'scenario-card bg-white p-6 rounded-2xl shadow-lg border-2 border-red-100';
                card.innerHTML = `
                    <div class="flex items-start gap-4 mb-4">
                        <div class="text-5xl bg-red-50 p-3 rounded-full">${scenario.icon}</div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Situation ${index + 1}</h3>
                            <p class="text-lg text-slate-600 mb-2">${scenario.situation}</p>
                            <p class="text-red-600 font-bold">${scenario.question}</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3" id="scenario-${scenario.id}">
                        ${scenario.answers.map((ans, i) => `
                            <button onclick="checkReduceAnswer(${scenario.id}, ${i}, ${ans.correct}, this)" 
                                    class="answer-btn bg-red-50 hover:bg-red-100 border-2 border-red-200 p-4 rounded-xl text-slate-700 font-bold transition">
                                ${ans.text}
                            </button>
                        `).join('')}
                    </div>
                    <div id="feedback-${scenario.id}" class="mt-4 hidden p-4 rounded-xl font-bold text-center"></div>
                `;
                container.appendChild(card);
            });
        }

        function checkReduceAnswer(scenarioId, answerIndex, isCorrect, btn) {
            const scenario = reduceScenarios.find(s => s.id === scenarioId);
            const feedbackDiv = document.getElementById(`feedback-${scenarioId}`);
            const allBtns = document.querySelectorAll(`#scenario-${scenarioId} button`);
            
            allBtns.forEach(b => b.disabled = true);
            
            if (isCorrect) {
                btn.classList.add('correct');
                feedbackDiv.className = 'mt-4 p-4 rounded-xl font-bold text-center bg-green-100 text-green-700';
                feedbackDiv.innerHTML = '‚úÖ Excellent! That reduces waste!';
                reduceCompleted++;
                speak("Great job! That reduces waste!");
            } else {
                btn.classList.add('wrong');
                feedbackDiv.className = 'mt-4 p-4 rounded-xl font-bold text-center bg-red-100 text-red-700';
                feedbackDiv.innerHTML = '‚ùå Think again! That makes more trash.';
                speak("Try again! Think about making less trash.");
                
                // Re-enable buttons after delay
                setTimeout(() => {
                    allBtns.forEach(b => {
                        b.disabled = false;
                        b.classList.remove('wrong');
                    });
                }, 1500);
            }
            
            feedbackDiv.classList.remove('hidden');
            
            if (reduceCompleted === reduceScenarios.length) {
                setTimeout(() => {
                    document.getElementById('reduce-complete').classList.remove('hidden');
                    document.getElementById('reduce-scenarios').classList.add('hidden');
                }, 1000);
            }
        }

        function initMatchGame() {
            matchScore = 0;
            document.getElementById('match-score').innerText = "0";
            document.getElementById('match-total').innerText = vocabList.length;
            document.getElementById('match-message').classList.add('hidden');
            document.getElementById('match-container').classList.remove('hidden');
            remainingMatches = [...vocabList];
            selectedCard = null;
            renderMatchRound();
        }

        function renderMatchRound() {
            const wordsContainer = document.getElementById('match-words');
            const defsContainer = document.getElementById('match-defs');
            wordsContainer.innerHTML = '';
            defsContainer.innerHTML = '';
            if (remainingMatches.length === 0) {
                document.getElementById('match-container').classList.add('hidden');
                document.getElementById('match-message').classList.remove('hidden');
                speak("Great job! You finished the game!");
                return;
            }
            const roundItems = remainingMatches.slice(0, 4);
            roundItems.forEach(item => {
                const card = document.createElement('div');
                card.className = 'match-card bg-blue-100 p-4 rounded-xl border-2 border-blue-300 cursor-pointer hover:bg-blue-200 flex items-center gap-3';
                card.dataset.word = item.word;
                card.dataset.type = 'word';
                card.innerHTML = `<span class="text-2xl">${item.icon}</span> <span class="font-bold text-blue-800 text-lg">${item.word}</span>`;
                card.onclick = () => handleMatchClick(card, item);
                wordsContainer.appendChild(card);
            });
            const shuffledDefs = [...roundItems].sort(() => Math.random() - 0.5);
            shuffledDefs.forEach(item => {
                const card = document.createElement('div');
                card.className = 'match-card bg-green-50 p-4 rounded-xl border-2 border-green-300 cursor-pointer hover:bg-green-100 flex items-center';
                card.dataset.word = item.word;
                card.dataset.type = 'def';
                card.innerHTML = `<span class="text-sm md:text-base text-green-900">${item.def}</span>`;
                card.onclick = () => handleMatchClick(card, item);
                defsContainer.appendChild(card);
            });
        }

        function handleMatchClick(card, item) {
            if (card.classList.contains('matched')) return;
            if (!selectedCard) {
                selectedCard = card;
                card.classList.add('selected');
                speak(item.word);
                return;
            }
            if (selectedCard === card) {
                card.classList.remove('selected');
                selectedCard = null;
                return;
            }
            const prevCard = selectedCard;
            const currentCard = card;
            if (prevCard.dataset.word === currentCard.dataset.word) {
                prevCard.classList.remove('selected');
                prevCard.classList.add('matched');
                currentCard.classList.add('matched');
                prevCard.style.backgroundColor = "#dcfce7";
                currentCard.style.backgroundColor = "#dcfce7";
                matchScore++;
                document.getElementById('match-score').innerText = matchScore;
                speak("Correct!");
                remainingMatches = remainingMatches.filter(i => i.word !== item.word);
                selectedCard = null;
                setTimeout(renderMatchRound, 1000);
            } else {
                currentCard.classList.add('shake');
                prevCard.classList.add('shake');
                speak("Try again");
                setTimeout(() => {
                    currentCard.classList.remove('shake');
                    prevCard.classList.remove('shake');
                    prevCard.classList.remove('selected');
                    selectedCard = null;
                }, 500);
            }
        }

        function initSortGame() {
            sortScore = 0;
            document.getElementById('score-display').innerText = sortScore;
            document.getElementById('game-message').classList.add('hidden');
            currentSortItems = [...sortItems].sort(() => Math.random() - 0.5);
            renderSortItems();
        }

        function renderSortItems() {
            const container = document.getElementById('items-container');
            container.innerHTML = '';
            if (currentSortItems.length === 0) {
                document.getElementById('game-message').classList.remove('hidden');
                return;
            }
            currentSortItems.forEach(item => {
                const el = document.createElement('div');
                el.className = 'draggable-item bg-white p-4 rounded-xl shadow-lg border-2 border-slate-200 flex flex-col items-center w-24 select-none';
                el.draggable = true;
                el.dataset.id = item.id;
                el.dataset.type = item.type;
                el.innerHTML = `
                    <div class="text-4xl mb-1 pointer-events-none">${item.icon}</div>
                    <div class="text-xs font-bold text-slate-600 text-center pointer-events-none">${item.name}</div>
                `;
                el.addEventListener('dragstart', handleSortDragStart);
                el.addEventListener('dragend', handleSortDragEnd);
                el.addEventListener('touchstart', handleSortTouchStart, {passive: false});
                el.addEventListener('touchmove', handleSortTouchMove, {passive: false});
                el.addEventListener('touchend', handleSortTouchEnd);
                container.appendChild(el);
            });
        }

        let draggedSortItem = null;
        let touchSortItem = null;

        function handleSortDragStart(e) {
            draggedSortItem = this;
            this.style.opacity = '0.5';
        }
        function handleSortDragEnd(e) {
            this.style.opacity = '1';
            draggedSortItem = null;
            document.querySelectorAll('.drop-zone').forEach(z => z.classList.remove('drag-over'));
        }

        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', e => { e.preventDefault(); zone.classList.add('drag-over'); });
            zone.addEventListener('dragleave', () => zone.classList.remove('drag-over'));
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                if (draggedSortItem) checkSortMatch(draggedSortItem, zone);
            });
        });

        function handleSortTouchStart(e) {
            e.preventDefault();
            touchSortItem = this;
            const touch = e.touches[0];
            const rect = touchSortItem.getBoundingClientRect();
            touchSortItem.style.position = 'fixed';
            touchSortItem.style.zIndex = '1000';
            touchSortItem.style.width = rect.width + 'px';
            touchSortItem.style.opacity = '0.8';
            moveSortAt(touch.clientX, touch.clientY);
        }
        function moveSortAt(x, y) {
            if(!touchSortItem) return;
            touchSortItem.style.left = (x - touchSortItem.offsetWidth/2) + 'px';
            touchSortItem.style.top = (y - touchSortItem.offsetHeight/2) + 'px';
        }
        function handleSortTouchMove(e) {
            e.preventDefault();
            if(!touchSortItem) return;
            moveSortAt(e.touches[0].clientX, e.touches[0].clientY);
        }
        function handleSortTouchEnd(e) {
            if(!touchSortItem) return;
            touchSortItem.style.display = 'none';
            let elem = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY);
            touchSortItem.style.display = 'flex';
            touchSortItem.style.position = '';
            touchSortItem.style.zIndex = '';
            touchSortItem.style.left = '';
            touchSortItem.style.top = '';
            touchSortItem.style.opacity = '1';
            if (elem) {
                let zone = elem.closest('.drop-zone');
                if (zone) checkSortMatch(touchSortItem, zone);
            }
            touchSortItem = null;
        }

        function checkSortMatch(itemEl, zoneEl) {
            if (itemEl.dataset.type === zoneEl.dataset.type) {
                itemEl.classList.add('border-green-500', 'bg-green-50');
                const id = parseInt(itemEl.dataset.id);
                currentSortItems = currentSortItems.filter(i => i.id !== id);
                sortScore += 10;
                document.getElementById('score-display').innerText = sortScore;
                speak("Good job!");
                setTimeout(() => {
                    itemEl.remove();
                    if (currentSortItems.length === 0) {
                        document.getElementById('game-message').classList.remove('hidden');
                        speak("Game Over. Great Job!");
                    }
                }, 500);
            } else {
                itemEl.classList.add('shake', 'border-red-500');
                speak("Try again.");
                setTimeout(() => itemEl.classList.remove('shake', 'border-red-500'), 500);
            }
        }

        showSection('home');
    </script>
</body>
</html>
